
# AADSTS700054: Response_type 'id_token' isn't enabled for the application. The application requested an ID token from the authorization endpoint, but did not have ID token implicit grant enabled. Sign in to theMicrosoft Entra admin centeras at least aCloud Application Administratorand then browse toIdentity>Applications>App registrations. Select your application and then selectAuthentication. UnderImplicit grant and hybrid flows, make sureID tokens'is selected.


## Troubleshooting Steps
Certainly! Below is a comprehensive troubleshooting guide for the error code **AADSTS700054** which indicates that the `response_type 'id_token'` isn't enabled for an application in Microsoft Entra (formerly known as Azure Active Directory).

### AADSTS700054 Troubleshooting Guide

#### 1. Initial Diagnostic Steps
- **Check the Error Context**: Confirm that the error occurs when your application is trying to retrieve an ID token using the authorization endpoint.
- **Capture the Request Details**: Look at the URL and parameters being sent in the authorization request to ensure they are formatted correctly.
- **Identify the Application**: Make note of the application that is generating this error. You may have multiple applications registered, and you want to focus on the one producing the error.

#### 2. Common Issues that Cause This Error
- **Missing ID Token Grant**: The most common reason for this error is that the 'ID tokens' option has not been enabled for your application in the Azure portal.
- **Misconfigured Application**: Ensure that the application is properly created and registered in Azure AD.
- **Inaccurate Redirect URIs**: If the redirect URIs are incorrectly configured, it may lead to this issue.

#### 3. Step-by-Step Resolution Strategies

**Step 1: Sign In to the Microsoft Entra Admin Center**
- Go to [Microsoft Entra Admin Center](https://entra.microsoft.com) and sign in with an account that has Cloud Application Administrator rights or higher.

**Step 2: Navigate to App Registrations**
- In the left-hand menu, go to **Identity** > **Applications** > **App registrations**.
- Search for and select the application that is experiencing the issue.

**Step 3: Check the Authentication Settings**
- In the application settings, click on **Authentication**.
- Scroll to find the **Implicit grant and hybrid flows** section.

**Step 4: Enable ID Tokens**
- Under **Implicit grant and hybrid flows**, ensure that the checkbox for **ID tokens** is selected.
- If it is not checked, check it and save the changes.

**Step 5: Test the Configuration**
- After saving the changes, attempt to authenticate again using the application to verify if the problem is resolved.

#### 4. Additional Notes or Considerations
- **Permissions**: Ensure that your application has the necessary permissions granted within Azure AD to request ID tokens.
- **Caching Issues**: Be aware of possible caching in your application or browser. After making changes in Azure AD, clear your application cache or cookies, or use a private/incognito browser session to test.
- **Continuous Monitoring**: After making adjustments, regularly monitor your application's behavior to catch any recurring issues.

#### 5. Documentation Where Steps Can be Found for Guidance
- [Microsoft Entra Documentation](https://learn.microsoft.com/en-us/azure/active-directory/develop/)
- [How to enable ID tokens for your application](https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-app-registration#configure-a-web-app-or-a-web-api)
- [Understanding authentication flows](https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-overview)

#### 6. Test the Documentation Reachability
- Visit the documentation links provided above and verify that they are accessible without issues.
- Bookmark important links for future reference in case you need to look up further configuration details.

#### 7. Advice for Data Collection
- **Log Events**: Collect diagnostic logs or error messages from your application when the error occurs.
- **Capture Request/Response**: If possible, use tools like Fiddler or the browserâ€™s developer tools to capture the request and response being sent to and from Azure.
- **User Feedback**: Document any user actions that led to the error so you can identify patterns in error occurrences.

By following this detailed troubleshooting guide, you should be able to resolve the AADSTS700054 error and enable your application to successfully retrieve ID tokens from the authorization endpoint. If issues persist, consider reaching out to Microsoft support for further assistance.