
# AADSTS9002332: Application '{principalId}'({principalName}) is configured for use by Microsoft Entra users only. Please do not use the /consumers endpoint to serve this request.


## Troubleshooting Steps
### Troubleshooting Guide for Error Code AADSTS9002332: 

#### Description:
Application '{principalId}'({principalName}) is configured for use by Microsoft Enterprise users only. Please do not use the /consumers endpoint to serve this request.

#### Initial Diagnostic Steps:
1. **Confirm Application Configuration**: Check the configuration settings of the application identified by '{principalId}' and '{principalName}' to ensure it is set up for use by Microsoft Enterprise users.
   
2. **Review Endpoint Usage**: Verify that the request is not using the /consumers endpoint, as indicated in the error message.

3. **Check User Authentication**: Ensure that the user attempting to access the application is a Microsoft Enterprise user and not a consumer account.

#### Common Issues:
- Incorrect application configuration settings.
- Incorrect user account type trying to access the application.
- Misuse of the /consumers endpoint in the request URL.

#### Step-by-Step Resolution Strategies:

1. **Verify Application Configuration**:
    - Navigate to the Azure AD portal.
    - Locate and select the application identified by '{principalId}'.
    - Check the application settings to ensure it is configured for Microsoft Enterprise users.

2. **Check User Account**:
    - Confirm that the user attempting to access the application is a Microsoft Enterprise user.
    
3. **Update Request Endpoint**:
    - Modify the request endpoint to ensure it is not using the /consumers endpoint. Update the request URL accordingly.

#### Additional Notes or Considerations:
- It is important to adhere to the application's designated user type requirements to avoid encountering this error.
- Double-check the application settings and user details to prevent recurrence of the issue.

#### Documentation for Guidance:
- [Azure Active Directory error codes and messages](https://docs.microsoft.com/en-us/azure/active-directory/develop/reference-aadsts-error-codes)

By following these troubleshooting steps, you should be able to address the error code AADSTS9002332 and rectify the configuration and access issues related to the application in question.