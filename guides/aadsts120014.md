
# AADSTS120014: PasswordChangeOnPremUserAccountLockedOutOrDisabled


## Troubleshooting Steps
### Troubleshooting Guide for Error Code AADSTS120014

**Description:** The error AADSTS120014 indicates that the password change is failing due to the on-premise user account being locked out or disabled.

---

### Initial Diagnostic Steps:

1. **Verify User Account Status:**
   - Check the status of the user account in your on-premise Active Directory (AD).
   - Confirm whether the account is locked out or disabled.

2. **User Authentication:**
   - Verify the user is attempting to change the password for the correct account.
   - Check if the user is able to log into other services that utilize the same credentials.

3. **Enable Auditing:**
   - Ensure that auditing is enabled in your Active Directory to track login failures and account status changes.

### Common Issues That Cause This Error:

1. **Account Lockout:**
   - The user account is locked due to multiple failed login attempts.

2. **Disabled Account:**
   - The account has been manually disabled by an administrator.

3. **Synchronized Accounts:**
   - If using Azure AD Connect, there may be synchronization issues affecting the account's status.

4. **User Password Policies:**
   - The user may not meet the organization’s password complexity or expiration policies.

5. **Conditional Access Policies:**
   - There may be a conditional access policy preventing account access under specific conditions.

### Step-by-Step Resolution Strategies:

1. **Check Account Status:**
   - Open Active Directory Users and Computers (ADUC).
   - Navigate to the user account and check for:
     - **Account Locked:** Right-click the user, go to Properties > Account tab; check if “Account is locked out” is checked.
     - **Account Disabled:** Verify that “Account is disabled” is unchecked.

2. **Unlock or Enable the Account:**
   - If the account is locked, right-click the account in ADUC and select “Unlock Account.”
   - If the account is disabled, right-click the account and select “Enable Account.”

3. **Review Password Policies:**
   - Check if the password meets imposed complexity requirements.
   - Ensure that the password hasn’t expired and reset it if necessary.

4. **Monitor Login Attempts:**
   - Enable detailed account lockout logging in Active Directory:
     - Go to Group Policy Management.
     - Navigate to Computer Configuration -> Policies -> Windows Settings -> Security Settings -> Local Policies -> Audit Policy and enable “Audit account logon events.”

5. **Check Azure AD Connect Synchronization:**
   - Ensure Azure AD Connect is running properly and synchronizing changes from on-premise AD to Azure AD.
   - Use Azure AD Connect's built-in health monitoring features to verify.

6. **Validate Conditional Access Policies (if applicable):**
   - Open Azure AD and navigate to Security > Conditional Access.
   - Check if any policies are impacting the user’s ability to authenticate or change passwords.

### Additional Notes or Considerations:

- Always communicate with the user when performing any actions regarding their account to avoid confusion.
- Ensure that the system's time and date settings are correct across all devices to prevent issues with authentication.

### Documentation References:

- [Microsoft Docs: Understand Azure AD Authentication](https://docs.microsoft.com/en-us/azure/active-directory/develop/authentication-scenarios)
- [Azure AD Connect: Troubleshooting](https://docs.microsoft.com/en-us/azure/active-directory/hybrid/tshoot-connect-fed)
- [How to: Manage Users and Passwords in Active Directory](https://docs.microsoft.com/en-us/windows-server/identity/ad-ds/manage/manage-users-and-passwords)

### Testing Documentation Reachability:

- Verify that the above links are accessible by clicking on them or copying them into a browser’s address bar. Ensure no 404 errors are present and the pages load correctly.

### Advice for Data Collection:

- If you continue to face issues, gather the following data:
  - Account name and any relevant user information.
  - Any error messages or codes received during failed login attempts.
  - Logs from Azure AD Connect (if being used).
  - Security logs from Active Directory for account lockouts.
  - Any recent changes or updates made to the authentication infrastructure.

By following the above troubleshooting guide, you should be able to resolve the AADSTS120014 error effectively.