# AADSTS7000114: Application 'appIdentifier' isn't allowed to make application on-behalf-of calls.

## Troubleshooting Steps

Error Code: AADSTS7000114 - Application 'appIdentifier' isn't allowed to make
application on-behalf-of calls

**Initial Diagnostic Steps:**

1. Verify that the application 'appIdentifier' has the required permissions to
   make application on-behalf-of calls.
2. Check if the application's manifest configuration is correctly set up for
   on-behalf-of flows.
3. Review any recent changes made to the application configurations or
   permissions settings.
4. Check if there are any restrictions or policies set up at the tenant level
   that could be impacting the application's ability to make on-behalf-of calls.

**Common Issues that Cause this Error:**

1. Missing or incorrect permissions for the application in Azure AD.
2. Misconfigured application manifest settings related to on-behalf-of calls.
3. Tenant-level restrictions or policies preventing the application from making
   such calls.
4. Incorrect client application configuration when making on-behalf-of requests.

**Step-by-Step Resolution Strategies:**

1. **Check Application Permissions:**

   - Go to Azure Portal and navigate to Azure Active Directory.
   - Select the application 'appIdentifier' and ensure it has the required
     permissions for making on-behalf-of calls.

2. **Review Manifest Configuration:**

   - Check the application's manifest for correct configuration settings related
     to on-behalf-of flows.
   - Ensure that the "oauth2AllowOnBehalfOfFlow" property is set to true in the
     manifest.

3. **Tenant-level Restrictions:**

   - Review any tenant-level restrictions or policies that may be blocking the
     application from making on-behalf-of calls.
   - Adjust security policies if necessary to allow on-behalf-of flows for the
     application.

4. **Client Application Setup:**
   - Ensure that the client application is correctly configured to handle
     on-behalf-of requests.
   - Verify that the correct client credentials are used when initiating the
     on-behalf-of flow.

**Additional Notes or Considerations:**

- It's crucial to double-check the permissions, manifest settings, and any
  related configurations to identify the root cause of the issue.
- Testing the on-behalf-of flow using tools like Microsoft Graph Explorer can
  help in troubleshooting and verifying the configurations.
- Consider reaching out to your Azure AD administrator or support for further
  assistance if needed.

**Documentation for Guidance:**

- Microsoft Azure Active Directory documentation provides detailed guides on
  configuring applications, permissions, and troubleshooting errors. It's
  recommended to refer to the official documentation for specific steps and best
  practices in resolving this error code (AADSTS7000114).

By following the outlined steps and considering the additional notes, you can
effectively troubleshoot and resolve the error code AADSTS7000114 related to the
application not being allowed to make on-behalf-of calls.
