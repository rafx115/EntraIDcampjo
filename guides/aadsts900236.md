
# AADSTS900236: InvalidRequestSamlPropertyUnsupported- The SAML authentication request property '{propertyName}' isn't supported and must not be set.


## Troubleshooting Steps
## Troubleshooting Guide for Error Code AADSTS900236

### Error Description
The error code `AADSTS900236` signifies an issue related to SAML authentication where a request includes an unsupported property. The core message is:
`InvalidRequestSamlPropertyUnsupported - The SAML authentication request property '{propertyName}' isn't supported and must not be set.`

### Initial Diagnostic Steps
1. **Identify the Requester**: Determine which application or user is encountering this error.
2. **Review the SAML Request**: Capture the SAML authentication request that caused the error. Look for any properties that may not be supported.
3. **Check Event Logs**: Review the event logs on the Identity Provider (IdP) or the Service Provider (SP) to gather more context about the error.
4. **Examine the Configuration**: Check the configuration settings of the IdP and SP for mismatches or mistakes concerning SAML property settings.

### Common Issues That Cause This Error
1. **Unsupported SAML Properties**: Certain properties within the SAML request may not be supported by the Azure AD, such as `forceAuthentication`, `isPassive`, etc.
2. **Version Misdirection**: If the SAML request specifies an older or incompatible version of the SAML protocol.
3. **Misconfigured Claims**: Claims being sent in the request that are not properly configured on the IdP or SP side.
4. **Invalid Request Format**: The SAML request may not conform to the expected structure, leading to misunderstandings by Azure AD.

### Step-by-Step Resolution Strategies
1. **Check SAML Request Properties**:
   - Use tools like SAML Tracer or Fiddler to inspect the SAML request being sent.
   - Identify any properties that may not be allowed as per Azure ADâ€™s SAML specifications.

2. **Remove Unsupported Properties**:
   - Edit the application or client's configuration where the SAML request is generated to remove any unsupported properties.
   - Common unsupported properties include but are not limited to:
     - `forceAuthentication`
     - `isPassive`
     - Any custom properties not recognized by Azure AD.

3. **Validate SAML Configuration**:
   - Ensure that the SAML configuration on Azure AD matches the expectations set by your application.
   - Confirm the setting for claims and the information being passed in the SAML assertion.

4. **Review Azure AD Documentation**:
   - Reference Azure AD's documentation for accepted SAML properties and configurations. Ensure the setup adheres to those guidelines. 

5. **Test After Reconfiguration**:
   - After making changes, re-test the authentication flow to ensure the error is resolved.

### Additional Notes or Considerations
- **Updates or Changes to Configuration**: If the error started appearing unexpectedly, consider whether any changes were made to the IdP or SP configurations recently.
- **Testing Environments**: If you're using a sandbox or test environment, confirm that it is configured similarly to your production environment.
- **Check Compatibility**: Always ensure that both the IdP and SP support the same SAML version.
  
### Documentation for Guidance
- Microsoft Azure AD SAML Documentation: [SAML Protocol Documentation](https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-saml-protocol)
  
  **Reachability Test**: Please note that the documentation can be reached via the link above.

### Advice for Data Collection
- **Network Traces**: Collect logs from the network layer, such as request/response details using tools like Fiddler or Postman.
- **SAML Assertions**: Record and analyze the SAML assertions generated by your application.
- **Azure AD Logs**: Keep an eye on Azure AD sign-in logs to get additional details about errors occurring during authentication.
  
By following this detailed troubleshooting guide, you should be able to effectively diagnose and resolve the `AADSTS900236` error related to unsupported SAML properties. If issues persist after following these steps, consider reaching out to Microsoft support for further assistance.