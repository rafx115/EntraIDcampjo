
# AADSTS650057: Invalid resource. The client has requested access to a resource which isn't listed in the requested permissions in the client's application registration. Client app ID: {appId}({appName}). Resource value from request: {resource}. Resource app ID: {resourceAppId}. List of valid resources from app registration: {regList}.


## Introduction

This guide will help resolve issues related to invalid resource. the client has
requested access to a resource which isn't listed in the requested permissions
in the client's application registration. client app id: {appid}({appname}).
resource value from request: {resource}. resource app id: {resourceappid}. list
of valid resources from app registration: {reglist}..


## Prerequisites


* Access to the Azure AD portal with administrator privileges.

* The user must have already set up MFA.


## Steps to Resolve


### Step 1: Initial Actions

1. Log in to the Azure AD portal.
2. Navigate to the "Users" section.
3. Select the affected user.
4. Perform necessary actions as described for the error.


### Step 2: Verify MFA Settings

1. Ensure that the user has MFA configured.
2. If necessary, guide the user through the MFA setup process.


## Troubleshooting


* Check for any Azure AD conditional access policies that might be affecting the

  MFA process.

* Consider any additional security measures that might be in place.


## Additional Notes


* Refer to the

  [Azure AD 
documentation](https://learn.microsoft.com/en-us/azure/active-directory/)
  for more details.


## Troubleshooting Steps

Troubleshooting steps could not be generated due to an error.


## Troubleshooting Steps

Troubleshooting steps could not be generated due to an error.


## Troubleshooting Steps


### Troubleshooting Guide for AADSTS650057 Error: Invalid Resource


#### Initial Diagnostic Steps:

1. **Verify Client App ID and Resource App ID**: Check the Client application
   ID, Resource App ID, and the requested resource to ensure they are correct.
2. **Review Permissions**: Validate that the requested resource is listed in the
   permissions granted to the client application during registration.
3. **Check Configuration**: Confirm that the necessary configurations, such as
   Redirect URIs and API permissions, are correctly set up in the Azure portal.


#### Common Issues:

1. **Missing Resource Permissions**: The client application lacks the necessary
   permission for the requested resource.
2. **Incorrect Resource Identifier**: The identifier used for the resource in
   the request does not match the one registered in the Azure portal.
3. **Client Application Misconfiguration**: Incorrect settings or missing
   configurations in the client application registration.


#### Step-by-Step Resolution Strategies:

1. **Verify Permissions**:
   * Go to the Azure portal and navigate to the client application's

     registration.
   * Ensure that the requested resource is listed under the API permissions

     section with appropriate delegated or application permissions.
2. **Update Resource Permissions**:
   * Add the required resource permissions to the client application.

   * Grant the necessary permissions (delegated or application) for the

     requested resource.
3. **Check Resource Identifier**:
   * Compare the resource value from the error with the ones listed in the app

     registration.
   * Correct any discrepancies between the requested resource and the registered

     resource.
4. **Review Client Application Configuration**:
   * Double-check the client application's configuration settings for any

     misconfigured or missing details.
   * Verify that the resource is correctly specified in the API permissions

     section.
5. **Testing and Validation**:
   * Test the authorization flow again after making the necessary changes to

     validate the resolution.
   * Use tools like Azure AD Authentication Libraries (MSAL) to test the

     authentication and authorization process.


#### Additional Notes or Considerations:


* **Clear Cache**: If persistent issues occur, clear the cache of the client

  application and retry the authentication process.

* **Logging and Monitoring**: Enable logging and monitoring in Azure to track

  authorization requests and identify any recurring issues.

* **Documentation Reference**: Refer to the official Microsoft documentation for

  Azure AD error codes for further troubleshooting and resolution guidance.

By following these steps and considerations, you should be able to address the
AADSTS650057 error related to an invalid resource in Azure Active Directory
successfully.