
# AADSTS120004: PasswordChangeOnPremComplexity


## Troubleshooting Steps
Error Code: AADSTS120004 - PasswordChangeOnPremComplexity

**Initial Diagnostic Steps:**
1. Verify if the user is attempting to change their password.
2. Check if the user's account is set up for password changes that meet specific complexity requirements.
3. Confirm if the user is connected to an on-premises Active Directory and if the password complexity policy is enforced.

**Common Issues:**
1. The password being set does not meet the complexity requirements defined by the on-premises Active Directory.
2. The on-premises password complexity policy is not in sync with Azure Active Directory.
3. User is trying to change their password but does not meet the minimum password requirements such as length, complexity (uppercase, lowercase, numbers, special characters), history checks, etc.

**Step-by-step Resolution Strategies:**
1. Ensure the user attempting to change the password is aware of the password complexity requirements.
2. Verify the password complexity policy settings in the on-premises Active Directory and make sure it aligns with the requirements specified by AAD.
3. Change the password to comply with the complexity requirements set by the on-premises Active Directory.
4. Sync the on-premises Active Directory password complexity policy with Azure AD.

**Additional Notes/Considerations:**
- It is essential to educate users about the password complexity requirements to prevent recurring issues.
- Regularly review and update the password complexity policy to ensure it aligns with security best practices.
- Always keep the on-premises Active Directory synced with Azure Active Directory for a seamless user experience.

**Documentation for Guidance:**
- Microsoft documentation provides detailed steps and guidance for resolving password-related issues in Azure AD. You can refer to the official Microsoft documentation on resolving password issues here: [Microsoft Azure AD Password Troubleshooting](https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/active-directory-passwords-troubleshoot).
- For specific information related to Azure AD error codes and troubleshooting, you can visit the official Azure AD error codes documentation: [Azure AD Error Codes](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-protocols-error-handling).

By following these steps and guidelines, you should be able to diagnose and resolve the AADSTS120004 error related to PasswordChangeOnPremComplexity effectively.