
# AADSTS650052: The app needs access to a service(\"{name}\")that your organization\"{organization}\"hasn't subscribed to or enabled. Contact your IT Admin to review the configuration of your service subscriptions.


## Troubleshooting Steps
### Troubleshooting Guide for Error Code AADSTS650052

**Description:**  
The application requires access to a specific service that the organization has not subscribed to or enabled. This error often indicates that the application is trying to use a resource that it does not have permissions for, or the organization has not subscribed to that service.

---

### Initial Diagnostic Steps

1. **Reproduce the Error:** 
   - Attempt to access the application or service that returns the AADSTS650052 error code.
   - Note down the specific service name mentioned in the error.

2. **Check User Access:**
   - Confirm whether the user is logged in with the appropriate account (the one expected to access the service).
   - Ensure that the account is not in multiple tenants, as this may affect access.

3. **Identify the App:** 
   - Determine the application that is attempting to access the service and gather its details (Application ID, publisher, etc.).

4. **Check Organization Subscription:**
   - Verify that your organization holds a subscription that includes the required service.
   - Review any recent changes to user roles or organizational subscriptions that may have impacted service access.

---

### Common Issues that Cause this Error

1. **Lack of Subscription:** 
   - The organization has not subscribed to the service that the app requires (e.g., Microsoft Graph, Dynamics 365).

2. **User Role and Permission Issues:** 
   - The current user role may not have the necessary permissions to access the requested service.

3. **Service Scope Not Granted:** 
   - The application may not have been granted the appropriate permissions/scopes to access the service.

4. **Intended Deployment Issues:** 
   - The application may have its API permissions configured incorrectly in Azure AD.

---

### Step-by-Step Resolution Strategies

1. **Contact IT Admin:**
   - The primary step is to contact your IT Admin, as they have access to organization subscriptions and configuration settings.

2. **Check Azure AD Subscriptions:**
   - Log in to the Azure portal:
     - Navigate to **Azure Active Directory** > **Licenses** > **All products**.
     - Verify that the required service is present in the list of active services.

3. **Review Application Permissions:**
   - In Azure AD, go to **App registrations** > [Your Application] > **API permissions**.
   - Ensure the necessary permissions for accessing the service are listed, and check if admin consent is required.

4. **Grant Admin Consent:**
   - If the application requires admin consent for certain permissions:
     - In API permissions, click on **Grant admin consent for [Your Organization]**.
     - Confirm that permissions are successfully granted.

5. **Test Access Again:**
   - After making changes, have the user attempt to access the app again and verify if the issue is resolved.

---

### Additional Notes or Considerations

- Maintain a clear communication line with your IT department: they may have insights regarding any recent changes in subscription or service configurations.
- The error might also occur during specific conditions (e.g., if the app is not published or is in a preview stage).
- In some cases, the error might point to issues with the licensing agreement between your organization and Microsoft, necessitating further review.

---

### Documentation for Guidance

- **Microsoft Azure Active Directory Documentation:**  
  [Microsoft Learn - Azure Active Directory](https://learn.microsoft.com/en-us/azure/active-directory/)
  
- **Understanding and Managing App Permissions:**
  [How to Manage App Permissions](https://learn.microsoft.com/en-us/azure/active-directory/develop/active-directory-application-permissions)

- **How to Add or Remove Usersâ€™ Roles:**
  [User and Role Management](https://learn.microsoft.com/en-us/azure/active-directory/roles/assign-roles-azure-portal)

**Tested Documentation Links:**
- Navigate to the links above to verify they are accessible and contain the necessary guidance.

---

### Advice for Data Collection

- If the issue persists, gather the following information before contacting support:
  - The full error message displayed, including any codes and descriptions.
  - User's tenant ID and application ID.
  - The roles assigned to the user attempting access.
  - If possible, capture logs that might detail the API request failing or any other related errors.

This thorough examination will expedite troubleshooting and resolution of the AADSTS650052 error.