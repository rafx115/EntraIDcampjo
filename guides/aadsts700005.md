# AADSTS700005: InvalidGrantRedeemAgainstWrongTenant - Provided Authorization Code is intended to use against other tenant, thus rejected. OAuth2 Authorization Code must be redeemed against same tenant it was acquired for (/common or /{tenant-ID} as appropriate)


## Troubleshooting Steps
Here is a detailed troubleshooting guide for the error code AADSTS700005, specifically the InvalidGrantRedeemAgainstWrongTenant error:

### Initial Diagnostic Steps:
1. **Verify the Tenant**: Double-check the tenant ID (if applicable) where the OAuth2 Authorization Code was acquired and where the redemption is attempted.
2. **Check Authorization Flow**: Confirm the steps of acquiring and redeeming the Authorization Code for any potential errors or discrepancies.
3. **Review Error Message**: Understand the specific error message to ensure the problem is related to redeeming the code against the wrong tenant.

### Common Issues:
- Acquiring the Authorization Code from one tenant and attempting to redeem it in another tenant.
- Incorrect configuration of authorization endpoints to use a specific tenant ID instead of a wildcard (/common).

### Step-by-Step Resolution Strategies:
1. **Acquire Authorization Code Correctly**: Ensure the Authorization Code is acquired from the same tenant where it is intended to be redeemed.
2. **Verify Tenant ID**: Use the correct tenant ID in the authorization request URL or parameters.
3. **Update Configuration**: Adjust the configuration to point to either `/common` or the specific tenant ID based on the desired behavior.
4. **Redeem Authorization Code**: Redeem the Authorization Code against the correct tenant ID using the appropriate OAuth endpoints.
5. **Clear Caches and Cookies**: If the error persists, clear any cached tokens, cookies, or stored credentials that might be causing conflicts.

### Additional Notes or Considerations:
- It's crucial to ensure consistency between the tenant where the Authorization Code is acquired and where it's redeemed to avoid this error.
- Review any multi-tenant configurations to prevent issues arising from using the incorrect tenant ID.

### Documentation:
- Microsoft Azure Active Directory documentation provides detailed guidance on implementing OAuth2 authorization flow and troubleshooting related errors. Refer to the [Azure AD documentation](https://docs.microsoft.com/azure/active-directory/).

By following these troubleshooting steps, you should be able to address the AADSTS700005 error with the 'InvalidGrantRedeemAgainstWrongTenant' description successfully.