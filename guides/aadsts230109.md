
# AADSTS230109: CachedCredentialNonGWAuthNRequestsNotSupported - Backup Auth Service only allows AuthN requests from Microsoft Entra Gateway. This error is returned when traffic targets the backup auth service directly instead of going through the reverse proxy.


## Troubleshooting Steps
### Troubleshooting Guide for Error Code AADSTS230109

#### Initial Diagnostic Steps:
1. **Verify Network Configuration**: Check if the traffic is properly routed through the Gateway as required.
2. **Review System Logs**: Look for any specific error messages or warnings related to authentication requests.

#### Common Issues causing Error AADSTS230109:
1. **Direct Traffic to Backup Auth Service**: When requests are sent directly to the backup auth service instead of going through the designated Gateway.
2. **Misconfigured Proxy Settings**: Incorrect settings leading to incorrect routing of authentication requests.
3. **Network Connectivity Issues**: Poor network configuration hindering traffic flow to the designated Gateway.

#### Step-by-step Resolution Strategies:
1. **Ensure Traffic is Routed Correctly**:
   - Check the network settings to verify that all authentication requests are routed through the Microsoft Entrata Gateway.
   - Update firewall or routing rules to direct traffic to the appropriate Gateway.

2. **Check Proxy Settings**:
   - Verify that the proxy settings are correctly configured to direct requests through the specified Gateway.
   - Make necessary adjustments if the settings are incorrect.

3. **Network Troubleshooting**:
   - Test network connectivity to ensure there are no issues hindering traffic flow to the Gateway.
   - Resolve any network issues impacting the correct routing of authentication requests.

#### Additional Notes or Considerations:
- It’s essential to follow the specified authentication flow requirements to avoid errors related to direct access to the backup auth service.
- Regular monitoring and review of network configurations can help prevent such errors in the future.

#### Documentation for Assistance:
For more detailed guidance on troubleshooting error code AADSTS230109, refer to Microsoft's official documentation on Azure Active Directory error codes and troubleshooting methods: [Azure AD Error Codes](https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/active-directory-how-to-common-errors)