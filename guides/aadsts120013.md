
# AADSTS120013: PasswordChangeOnPremisesConnectivityFailure


## Troubleshooting Steps
### Troubleshooting Guide for Error Code AADSTS120013: PasswordChangeOnPremisesConnectivityFailure

#### Initial Diagnostic Steps:
1. **Check Connectivity**: Ensure that the machine hosting the on-premises connector has proper network connectivity to your on-premises infrastructure.
  
2. **Verify Service Status**: Confirm that the Azure AD Connect service is running on the connector machine.
  
3. **Review Event Logs**: Check the event logs on the connector machine for any related errors or warnings that could provide more context.

4. **Verify Configuration**: Double-check the configuration settings for Azure AD Connect and ensure that all necessary parameters are correctly set up.

#### Common Issues that Cause this Error:
1. **Network Connectivity**: Issues with network connectivity between the on-premises connector and the on-premises infrastructure.
  
2. **Permissions**: Insufficient permissions for the Azure AD Connect service account to perform password change operations on-premises.
  
3. **Firewall Settings**: Restrictions in place on the firewall preventing communication between Azure AD and the on-premises infrastructure.

#### Step-by-Step Resolution Strategies:
1. **Ensure Network Connectivity**:
   - Verify the firewall settings to allow communication between Azure AD and the on-premises infrastructure.
   - Check if there are any network issues or restrictions blocking the connectivity.

2. **Verify Permissions**:
   - Make sure the Azure AD Connect service account has the necessary permissions to perform password change operations on-premises.

3. **Restart Azure AD Connect Service**:
   - Restart the Azure AD Connect service on the connector machine to ensure any temporary issues are resolved.

4. **Update Azure AD Connect**:
   - Ensure that you are using the latest version of Azure AD Connect, as there might be fixes or improvements related to this error.

#### Additional Notes or Considerations:
- **Log Analysis**: Analyze detailed logs for Azure AD Connect and the Event Viewer to identify the root cause of the error.
  
- **Support**: If troubleshooting steps do not resolve the issue, consider reaching out to Microsoft Support for further assistance.

#### Documentation:
- Microsoft's official documentation provides guidance on troubleshooting Azure AD Connect errors. You can find detailed steps and recommendations here: [Azure AD Connect Support Documentation](https://docs.microsoft.com/en-us/azure/active-directory/hybrid/tshoot-connect-pass-through-authentication#error-12013).

By following these steps and considering the common issues and resolution strategies, you should be able to address the AADSTS120013 error related to PasswordChangeOnPremisesConnectivityFailure effectively.