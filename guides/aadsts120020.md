# AADSTS120020: PasswordChangeFailure


## Troubleshooting Steps
### Troubleshooting Guide for AADSTS120020: PasswordChangeFailure

The error code AADSTS120020 indicates that there was a failure during the password change process for Azure Active Directory (AAD). This guide provides detailed steps to troubleshoot and resolve this issue.

#### Initial Diagnostic Steps

1. **Check the Error Context**:
   - Review the error message for any additional detail.
   - Determine if this error occurs during a specific action (e.g., when a user tries to change their password).

2. **Identify Affected Users**:
   - Check if the issue is affecting multiple users or just a specific user account.
   - Identify if the affected users are from the same group or department.

3. **Review User Settings**:
   - Ensure that the affected user account is not locked or disabled.
   - Check the user's current authentication methods and ensure they meet the organization's requirements.

4. **Check Azure AD Status**:
   - Verify the health status of Azure services by visiting the Azure Status page: [Azure Status](https://status.azure.com/).

#### Common Issues that Cause AADSTS120020

1. **Expired Password**: Users may encounter this error if they are trying to change a password that has already expired.
  
2. **Incorrect Password Policy**: The new password may not meet the organization’s complexity or length requirements.

3. **Identity Synchronization Issues**: Problems with account synchronization between Azure AD and on-premises Active Directory can lead to password change failures.

4. **Network Issues**: Connectivity problems between the client and the Azure AD service may prevent password changes from completing.

5. **Account Lockouts**: If an account is locked out due to multiple failed login attempts, the user will not be able to change their password.

#### Step-by-Step Resolution Strategies

1. **User Action**:
   - Instruct the user to ensure their current password is being entered correctly.
   - Ask them to verify their new password meets the complexity requirements.
   - Check if their account is locked out; if so, unlock the account.

2. **Review Password Policy**:
   - Navigate to Azure AD and review the password policy set for the organization.
   - Ensure that the new password adheres to the policies in place.

3. **Reset Password**:
   - If the user is unable to change their password, initiate a password reset through the Azure portal:
     1. Sign in to the Azure portal as an admin.
     2. Navigate to "Azure Active Directory" > "Users".
     3. Select the affected user and choose "Reset password".
     4. Provide a new password and communicate it securely to the user.

4. **Check Sync Services**:
   - If you are using Azure AD Connect for synchronization, verify that the service is running correctly:
     1. Open the Azure AD Connect tool.
     2. Review the synchronization status and logs for any errors.
     3. Perform a manual sync if necessary.

5. **Test Connectivity**:
   - Ensure that there are no network issues preventing access to Azure services. Use tools like `ping`, `tracert`, or `Test-NetConnection` in PowerShell.

6. **Contact Support**:
   - If the problem persists after trying all the above, consider logging a support ticket with Microsoft support for detailed analysis.

#### Additional Notes or Considerations

- Educate users about the password change process, emphasizing the importance of meeting the prescribed password requirements.
- Check the user's authentication methods; dual-factor authentication setups sometimes introduce additional complexities during password changes.

#### Documentation for Guidance

- Microsoft Azure AD documentation on password policies: [Azure AD Password Policy](https://docs.microsoft.com/en-us/azure/active-directory/users/groups/pwd-policy)
- For detailed help on Azure AD Connect issues: [Azure AD Connect Troubleshooting](https://docs.microsoft.com/en-us/azure/active-directory/hybrid/tshoot-connect-issues)

#### Test Documentation Accessibility

Ensure that the documentation links provided are accessible:
- Access the links directly via a browser to confirm they are reachable.
  
#### Advice for Data Collection

- Keep records of the exact error messages, user actions leading up to the issue, and any pertinent logs.
- Gather details on user accounts that are affected, including timestamps of password change attempts and any error codes received.
- Collect network logs if issues are suspected in the Azure connectivity, using tools like Fiddler or network tracing in PowerShell.

By following this detailed troubleshooting guide for the AADSTS120020 error, you should be able to identify and resolve password change failures effectively.