
# AADSTS221000: DeviceOnlyTokensNotSupportedByResource - The resource isn't configured to accept device-only tokens.


## Troubleshooting Steps
### Troubleshooting Guide for Error Code AADSTS221000: DeviceOnlyTokensNotSupportedByResource

#### Initial Diagnostic Steps:
1. **Verify Error Description**: Understand that the error code AADSTS221000 signifies that the resource you are trying to access does not support device-only tokens.
2. **Check Resource Configuration**: Verify the configuration settings of the resource that is causing the issue.

#### Common Issues:
1. **Misconfigured Resource Settings**: The resource may not be correctly configured to accept device-only tokens.
2. **Incorrect Token Type**: Attempting to use a device-only token with a resource that does not support it.
3. **Permissions Issue**: User or application attempting to access the resource may not have the necessary permissions.

#### Step-by-Step Resolution Strategies:
1. **Check Resource Settings**:
    - Verify the settings of the resource in Azure AD.
    - Ensure that the resource is configured to accept the type of tokens being presented.

2. **Token Type Compatibility**:
    - Make sure that the token being presented is compatible with the resource's requirements.
    - Ensure that the authentication method being used aligns with the resource's supported token types.

3. **Grant Necessary Permissions**:
    - Check and grant sufficient permissions to the user or application trying to access the resource.
    - Ensure that the user/application has the appropriate permissions within Azure AD.

4. **Review Application Manifest**:
    - Check the application manifest to ensure that the correct token type is requested.
    - Update the manifest if necessary to request the appropriate token type.

#### Additional Notes or Considerations:
- It is important to understand the authentication and authorization flow in Azure AD to troubleshoot such issues effectively.
- Regularly reviewing and updating the configurations of resources and applications can help prevent such errors from occurring.

#### Documentation for Guidance:
- [Azure Active Directory error codes & messages](https://docs.microsoft.com/en-us/azure/active-directory/develop/reference-aadsts-error-codes)
- [Azure AD Developer's Guide](https://docs.microsoft.com/en-us/azure/active-directory/develop/)

By following these troubleshooting steps and best practices, you should be able to resolve the AADSTS221000 error related to DeviceOnlyTokensNotSupportedByResource effectively.