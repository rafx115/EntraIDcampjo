# AADSTS120008: PasswordChangeAsyncJobStateTerminated - A non-retryable error has occurred.


## Troubleshooting Steps
### Troubleshooting Guide for AADSTS120008 Error Code

#### Description
The error code **AADSTS120008** with the message `PasswordChangeAsyncJobStateTerminated - A non-retryable error has occurred` indicates that a password change operation in the Azure Active Directory (AAD) has encountered an error that cannot be retried. This error usually occurs in applications or services that rely on Azure AD for authentication and user management.

---

### 1. Initial Diagnostic Steps

1. **Check the Error Message Context:**
   - Review the context in which the error occurred. Was it during a password reset, sign-in flow, or user management operation?
   - Collect details about the user account involved, including the state of the account, changes being made, and any associated logs.

2. **Review Azure AD Service Status:**
   - Check the Azure service health dashboard for any ongoing issues with Azure Active Directory: [Azure Service Health](https://status.azure.com/en-us/status).

3. **Gather Logs:**
   - Review application logs and Azure AD sign-in logs for additional information surrounding the error.
   - Collect log details such as timestamps, user identifiers, and any related error messages.

---

### 2. Common Issues That Cause This Error

1. **Invalid User Input:**
   - Input for the new password might not meet complexity requirements (e.g., length, character diversity).

2. **User Account State:**
   - The user account might be locked, disabled, or not exist in Azure AD.

3. **Policy Limitations:**
   - Password policies configured in Azure AD can prevent a successful password change.

4. **Sync Issues:**
   - If using Azure AD Connect, synchronization issues between on-premises Active Directory and Azure AD can lead to operational failures.

5. **Service Configuration:**
   - Issues with configuration settings in Azure AD or the application needing to integrate with it (e.g., misconfigured API permissions).

---

### 3. Step-by-Step Resolution Strategies

#### Step 1: Validate User Details
- Verify that the user exists in AAD.
- Check the userï¿½s account status:
  - Is the account enabled and not locked out?
  - Are there policies in place that might prevent the password change?

#### Step 2: Check Password Policies
- Review the Azure AD password policies:
  - Ensure the new password complies with complexity requirements.
  - Refer to: [Azure AD Password Policy](https://docs.microsoft.com/en-us/azure/active-directory/authentication/concept-password-policy)

#### Step 3: Reset User Password via Azure Portal
- As an interim measure, try changing the password from the Azure Portal:
  1. Navigate to the Azure portal.
  2. Go to Azure Active Directory > Users.
  3. Select the user in question, then click on "Reset Password".
- Verify if the reset is successful.

#### Step 4: Address Synchronization Issues
- If using Azure AD Connect, ensure that:
  - The synchronization is functioning correctly.
  - No pending changes in the on-premises directory are blocking updates.
  - Consult the Azure AD Connect Health service for any errors.

#### Step 5: Review Application Configurations
- If applicable, verify that the API permissions and settings within the application are properly configured to allow password changes.
- Refer to: [Manage API permissions in Azure AD](https://docs.microsoft.com/en-us/azure/active-directory/develop/permissions-reference).

---

### 4. Additional Notes or Considerations
- For users that are part of a federated identity environment, ensure to check federation settings and policies that might affect password changes.
- Regularly monitor Azure AD logs to identify patterns or reoccurring issues related to password changes.

---

### 5. Documentation for Guidance
- AAD Password Management: [Azure AD Password Management Documentation](https://docs.microsoft.com/en-us/azure/active-directory/authentication/howto-password-change)
- Azure Service Health and Status: [Azure Status](https://status.azure.com/en-us/status)
- Azure AD Connect Health: [Monitor Azure AD Connect Health](https://docs.microsoft.com/en-us/azure/active-directory/hybrid/monitoring-connect-health)

### 6. Test Documentation Accessibility
- Ensure that the above URLs are reachable by accessing them directly in your web browser or through your organization's network.

---

### 7. Advice for Data Collection
- When collecting data for troubleshooting, be sure to include:
  - User identifiers (emails, usernames).
  - The exact error message and any codes.
  - Timestamps of the occurrence.
  - Steps already taken during troubleshooting.
  - Any relevant logs from both the application and Azure AD.

By following this guide, you should be able to identify the cause of the AADSTS120008 error and take appropriate actions to resolve the issue. Always consider involving your IT department or Azure Support if problems persist.